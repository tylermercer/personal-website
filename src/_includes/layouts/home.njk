---js
{
    layout: "base",
    eleventyExcludeFromCollections: true,
    pageScopedStyles: true,
    pagination: {
        data: "collections.posts",
        before(collection, data) {
            return this.byLang(collection, data.lang);
        },
        size: 5,
        reverse: true,
        alias: "posts",
    },
}
---

<h1 class="pattern {% if category %} pattern-{{ category }}{% endif %}"><span class="guttered">{{ title }}</span></h1>
<p class="guttered post-description">{{- description | md | safe -}}</p>
<div class="with-sidebar guttered">
    <div class="posts">
        <h2>{{ 'Latest Posts' | i18n }}</h2>
        <ul class="post-cards-list">
            {%- for post in posts -%}
            <li class="post-card">
                <article>
                    <time class="dateline" datetime="{{ post.date | dateIso }}">{{ post.date | postDate }}</time>
                    <h3>
                        <a href="{{ post.url | url }}">{{ post.data.title }}</a>
                    </h3>
                    <p>
                        {{- post.data.description | md | safe -}}
                    </p>
                </article>
            </li>
            {%- endfor -%}
        </ul>
        <p><a href="{{ "/posts/" | locale_url }}">{{ 'All Posts' | i18n }}</a></p>
    </div>
    <div class="sidebar">
        <h2>{{ 'Collections' | i18n }}</h2>
        <div class="collections">
            {% for category in collections.category | byLang %}
                <div class="collection">
                    <h3 class="pattern pattern-{{ category.data.category }}"><a href="{{ category.url | url }}">{{ category.data.title }}</a></h3>
                    <p>{{ category.data.description | md | safe }}</p>
                </div>
            {% endfor %}
        </div>
    </div>
</div>



