---
import { getCollection } from "astro:content";
import Layout from "../layouts/Home.astro";
import { filterOutDraftsIfProduction, firstFive, sortByDate } from "../utils/utils";

const title = "Tyler Mercer";
const description = "Web developer, behavioral design enthusiast, and follower of Jesus"

const allPosts = await getCollection('posts');

const posts = firstFive(filterOutDraftsIfProduction(sortByDate(allPosts)));

const categories = await getCollection('categories');
---

<Layout posts={posts} categories={categories} title={title} description={description}/>
